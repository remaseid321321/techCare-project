<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Service Evaluation – TechCare</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="theme.css">
</head>

<body id="bodyTag">
<header class="site-header">
  <div class="container header-flex">
    <div class="header-left">
      <img src="images/logo.png" alt="TechCare Logo" class="logo">
      <div class="title">TechCare</div>
    </div>

    <div class="site-nav">
      <a href="index.html">Home</a>
      <a href="services.html">Services</a>
      <a href="AboutUs.html">About Us</a>
      <a href="customer-dashboard.html">Customer Dashboard</a>
      <a href="provider-dashboard.html">Provider Dashboard</a>
    </div>
  </div>
</header>

<div class="container breadcrumbs">
  <a href="index.html">Home</a> › 
  <a href="customer-dashboard.html">Customer Dashboard</a> › 
  <a href="evaluate.html">Service Evaluation</a>
</div>

<main class="container">
  <section class="section">
    <h2 class="center">Service Evaluation</h2>

    <form id="evalForm" action="" method="">

      <label for="service">Select Service</label>
      <select id="service" required>
        <option value="" disabled selected>Select a service</option>
        <option>Device Repair</option>
        <option>Software Installation</option>
        <option>Network Setup</option>
        <option>Data Recovery</option>
        <option>Cloud Migration</option>
        <option>Security Audit</option>
        <option>Virus Removal</option>
        <option>System Optimization</option>
        <option>Backup Solutions</option>
      </select>

      <label>Rating</label>
      <div class="rating">
        <span class="star" style="font-size:40px; color:gold;">★</span>
        <span class="star" style="font-size:40px; color:gold;">★</span>
        <span class="star" style="font-size:40px; color:gold;">★</span>
        <span class="star" style="font-size:40px; color:gold;">★</span>
        <span class="star" style="font-size:40px; color:gold;">★</span>
      </div>
      <input type="hidden" id="ratingValue" value="0">

      <label for="feedback">Feedback/Comment</label>
      <textarea id="feedback" placeholder="Write your feedback or comment..." required></textarea>

      <input type="submit" value="Submit Evaluation">
    </form>
  </section>
</main>

<footer class="site-footer">
  <div class="container foot-wrap">
    <div>© 2025 TechCare. All rights reserved.</div>
    <div>Contact: support@techcare.com • +966-55-5555555</div>
  </div>
</footer>

<script src="script.js"></script>

<script>
document.addEventListener("DOMContentLoaded", function () {

    var stars = document.getElementsByClassName("star");
    var ratingValue = document.getElementById("ratingValue");

    for (var i = 0; i < stars.length; i++) {

        stars[i].onclick = function () {

            var val = 0;

            for (var j = 0; j < stars.length; j++) {
                if (stars[j] === this) {
                    val = j + 1;
                }
            }

            ratingValue.value = val;

            for (var k = 0; k < stars.length; k++) {

                if (k < val) {
                    stars[k].style.color = "gold";
                    stars[k].style.opacity = "1";
                } else {
                    stars[k].style.color = "gold";
                    stars[k].style.opacity = "0.4";
                }
            }
        };
    }
});

// =============================
//  EVALUATION FORM VALIDATION
// =============================
window.onload = function () {

    var evalForm = document.getElementById("evalForm");

    if (evalForm == null) return;

    evalForm.onsubmit = function (e) {

        e.preventDefault(); 

        var service = document.getElementById("service").value;
        var rate = document.getElementById("ratingValue").value;
        var feedback = document.getElementById("feedback").value.trim();

        if (service === "") {
            alert("Please select a service.");
            return;
        }

        if (rate === "" || rate === "0") {
            alert("Please choose a rating.");
            return;
        }

        if (feedback === "") {
            alert("Please write a comment.");
            return;
        }

        if (rate == 1 || rate == 2) {
            alert("We're sorry for the inconvenience. Thank you for your feedback.");
        } else {
            alert("Thank you for your positive evaluation!");
        }

        window.location.href = "customer-dashboard.html";
    };
};
</script>

</body>
</html>
